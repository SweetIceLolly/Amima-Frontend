<div class="container">
  <div class="postInfo">
    <div class="imagesBox">
      <ImageCarousel [slides]="post.images"></ImageCarousel>
    </div>
    <div class="productDescription">
      <div class="title">{{post.title}}</div>
      <span style="white-space: pre-line">
        <div class="content">{{post.content}}</div>
      </span>
      
      <span class="hashTagbox"*ngFor="let tag of post.keywords"><span class="hashTagItem">{{tag}}</span></span>
    </div>

    <div class="commentSection">
      <div class="myComment">
        <div class="myInfo">
          <img class="profilePic" img [src]="currentUser.profile_image ? profileImgUrl + '/' + currentUser.profile_image : ''" >
        </div>
        <div class="myInfo">
          <div class="myName">
            {{currentUser.user_name}}
          </div>
        </div>
        <input class="inputComment" type="text" (click)="goHome()" maxlength="{{ commentLimit }}" placeholder="Comment" [(ngModel)]="commentContent" #ctrl="ngModel" required>
        <div class="confirmationButtons">
          <div class="confirmComment">
            <button class="createComment" (click)="goHome(); createComment();">Comment</button>
          </div>
          <div *ngIf="50 > commentLimit - commentContent.length; then charLim"></div>
          <ng-template #charLim>
            <label class="charLabel">{{commentLimit - commentContent.length}}/{{commentLimit}}</label>
          </ng-template>
        </div>
      </div>
      <!--Not done, this might look garbage-->
      <span class="commentList"*ngFor="let comment of postsComments">
        <div class="commenter">
          <div class="commenterInfo">
            <img
             class ="profileImg"
             [src]="getProfileImageUrl(comment.userId)"
             height="40px" width="40px"
             alt="Icon"
             title="See your profile"
            >
            <div class="nameDate">
              <span>{{comment.userId.user_name}}</span>
              <div class="commentDate">
                {{comment.created_at | date: "MMM d, y h:mm a"}}
              </div>
            </div>
            <span *ngIf="checkIsUser() && isCommenter(comment.userId._id)" class="removeComment">
              <a (click)="removeComment(comment._id)"><fa-icon [icon]="faTrashCan" class="remove-button" title="Remove"></fa-icon> </a>
            </span>
          </div>
          <div class="commentItem">
            {{comment.content}}
          </div>
          <div class="commentLine"></div>
        </div>
      </span>
    </div>
    
  </div>
  <div class="authorAndEdit">
    <div class="authorCard">
      <AuthorCard [user]="user"></AuthorCard>
    </div>
    <div *ngIf="!isPoster && checkIsUser()" class="favourite">
      <div *ngIf="!isFavourite" class="favouriteReg">
        <a (click)="favouritePost()"><fa-icon [icon]="faStarRegular" title="Favourite"></fa-icon>
        </a>
      </div>
      <div *ngIf="isFavourite" class="favouriteSolid">
        <a (click)="deleteFavourite()"><fa-icon [icon]="faStarSolid" title="Favourite"></fa-icon>
        </a>
      </div>
      
    </div>
    <div *ngIf="isPoster" class="tabs">
      <a (click)="goToEdit()"><fa-icon [icon]="faPenToSquare" class="edit-button" title="Edit"></fa-icon>
      </a>
      <a (click)="deletePost()"><fa-icon [icon]="faTrashCan" class="remove-button" title="Remove"></fa-icon>
      </a>
    </div>
  </div>
</div>

